global:
  user: "guojiangtao"
  ssh_port: 22
  deploy_dir: "/home/guojiangtao/work/tiup_cluster/data/tidb-deploy"
  data_dir: "/home/guojiangtao/work/tiup_cluster/data/tidb-data"
  arch: "amd64"

server_configs:
  pd:
    replication.enable-placement-rules: true
    replication.location-labels:
    - host
  tidb:
    disaggregated-tiflash: true
    use-autoscaler: false

monitored:
  node_exporter_port: 9100
  blackbox_exporter_port: 9115

pd_servers:
  - host: 127.0.0.1

tidb_servers:
  - host: 127.0.0.1

tikv_servers:
  - host: 127.0.0.1
    port: 20160
    status_port: 20180
    config:
       server.labels: { host: "10.71.201.251" }
  - host: 127.0.0.1
    port: 20161
    status_port: 20181
    config:
       server.labels: { host: "10.71.201.251" }
  - host: 127.0.0.1
    port: 20162
    status_port: 20182
    config:
       server.labels: { host: "10.71.201.251" }

tiflash_servers:
  - host: 127.0.0.1
    config:
      flash.disaggregated_mode: "tiflash_storage"
  - host: 127.0.0.1
    ssh_port: 22
    tcp_port: 9001
    http_port: 8124
    flash_service_port: 3931
    flash_proxy_port: 20171
    flash_proxy_status_port: 20293
    metrics_port: 8235
    config:
      flash.disaggregated_mode: "tiflash_storage"
  - host: 127.0.0.1
    ssh_port: 22
    tcp_port: 9002
    http_port: 8125
    flash_service_port: 3932
    flash_proxy_port: 20172
    flash_proxy_status_port: 20294
    metrics_port: 8236
    config:
      flash.disaggregated_mode: "tiflash_compute"
      flash.use_autoscaler: false
  - host: 127.0.0.1
    ssh_port: 22
    tcp_port: 9003
    http_port: 8126
    flash_service_port: 3933
    flash_proxy_port: 20173
    flash_proxy_status_port: 20295
    metrics_port: 8237
    config:
      flash.disaggregated_mode: "tiflash_compute"
      flash.use_autoscaler: false

grafana_servers:
  - host: 127.0.0.1

alertmanager_servers:
  - host: 127.0.0.1
monitoring_servers:
  - host: 127.0.0.1
